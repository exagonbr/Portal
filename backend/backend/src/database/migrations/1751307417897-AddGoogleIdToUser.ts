import { MigrationInterface, QueryRunner } from "typeorm";

export class AddGoogleIdToUser1751307417897 implements MigrationInterface {
    name = 'AddGoogleIdToUser1751307417897'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "classes" DROP CONSTRAINT "classes_course_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP CONSTRAINT "forum_replies_topic_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "users_role_id_foreign"`);
        await queryRunner.query(`ALTER TABLE "books" DROP CONSTRAINT "books_unit_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP CONSTRAINT "quizzes_lesson_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "video_modules" DROP CONSTRAINT "video_modules_collection_id_foreign"`);
        await queryRunner.query(`DROP INDEX "public"."classes_code_key"`);
        await queryRunner.query(`DROP INDEX "public"."classes_code_idx"`);
        await queryRunner.query(`DROP INDEX "public"."classes_school_id_idx"`);
        await queryRunner.query(`DROP INDEX "public"."classes_course_id_idx"`);
        await queryRunner.query(`DROP INDEX "public"."courses_slug_key"`);
        await queryRunner.query(`DROP INDEX "public"."courses_slug_idx"`);
        await queryRunner.query(`DROP INDEX "public"."courses_status_idx"`);
        await queryRunner.query(`DROP INDEX "public"."courses_institution_id_idx"`);
        await queryRunner.query(`DROP INDEX "public"."forum_replies_topic_id_idx"`);
        await queryRunner.query(`DROP INDEX "public"."forum_replies_author_id_idx"`);
        await queryRunner.query(`DROP INDEX "public"."idx_users_email"`);
        await queryRunner.query(`DROP INDEX "public"."idx_users_username_unique"`);
        await queryRunner.query(`DROP INDEX "public"."books_unit_id_idx"`);
        await queryRunner.query(`DROP INDEX "public"."quizzes_lesson_id_idx"`);
        await queryRunner.query(`DROP INDEX "public"."quizzes_type_idx"`);
        await queryRunner.query(`DROP INDEX "public"."video_modules_collection_id_module_number_index"`);
        await queryRunner.query(`DROP INDEX "public"."video_modules_collection_id_module_number_order_in_module_index"`);
        await queryRunner.query(`DROP INDEX "public"."video_collections_deleted_popularity_index"`);
        await queryRunner.query(`DROP INDEX "public"."video_collections_mysql_id_index"`);
        await queryRunner.query(`DROP INDEX "public"."video_collections_name_index"`);
        await queryRunner.query(`DROP INDEX "public"."video_collections_producer_index"`);
        await queryRunner.query(`ALTER TABLE "roles" DROP CONSTRAINT "roles_type_check"`);
        await queryRunner.query(`ALTER TABLE "roles" DROP CONSTRAINT "roles_status_check"`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP CONSTRAINT "user_classes_role_check"`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP CONSTRAINT "user_classes_status_check"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP CONSTRAINT "education_cycles_status_check"`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP CONSTRAINT "school_managers_role_check"`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP CONSTRAINT "school_managers_status_check"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP CONSTRAINT "forum_threads_status_check"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP CONSTRAINT "modules_status_check"`);
        await queryRunner.query(`ALTER TABLE "questions" DROP CONSTRAINT "questions_type_check"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP CONSTRAINT "announcements_type_check"`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP CONSTRAINT "user_classes_user_id_class_id_unique"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP CONSTRAINT "education_cycles_code_institution_id_unique"`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP CONSTRAINT "school_managers_user_id_school_id_unique"`);
        await queryRunner.query(`ALTER TABLE "video_modules" DROP CONSTRAINT "video_modules_collection_id_module_number_order_in_module_uniqu"`);
        await queryRunner.query(`CREATE TABLE "chat_messages" ("id" uuid NOT NULL DEFAULT uuid_generate_v4(), "sender_id" uuid NOT NULL, "content" text NOT NULL, "class_id" character varying NOT NULL, "attachments" jsonb, "read_by" jsonb NOT NULL DEFAULT '[]', "timestamp" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_40c55ee0e571e268b0d3cd37d10" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "tv_show_question" ("id" SERIAL NOT NULL, "tv_show_id" integer NOT NULL, "question_text" text NOT NULL, "question_type" character varying(50) NOT NULL DEFAULT 'multiple_choice', "order_number" integer DEFAULT '1', "is_active" bit NOT NULL DEFAULT '1', "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_03ec413282a6095613276c131d5" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_8c42b55413c1af6ff8d1516289" ON "tv_show_question" ("is_active") `);
        await queryRunner.query(`CREATE INDEX "IDX_3f7d36816185117670a8e7630c" ON "tv_show_question" ("tv_show_id") `);
        await queryRunner.query(`CREATE TABLE "tv_show_answer" ("id" SERIAL NOT NULL, "question_id" integer NOT NULL, "answer_text" text NOT NULL, "is_correct" bit NOT NULL DEFAULT '0', "order_number" integer DEFAULT '1', "is_active" bit NOT NULL DEFAULT '1', "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_80e40a69e58e2a8e660b4a17d5c" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_39f03c5647cf67aa1d0a874ccc" ON "tv_show_answer" ("is_active") `);
        await queryRunner.query(`CREATE INDEX "IDX_fb699de76d7e23033c567e5bc5" ON "tv_show_answer" ("question_id") `);
        await queryRunner.query(`CREATE TABLE "tv_show_file" ("id" SERIAL NOT NULL, "tv_show_id" integer NOT NULL, "file_name" character varying(500) NOT NULL, "file_path" character varying(500) NOT NULL, "file_type" character varying(100), "file_size" bigint, "description" character varying(500), "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_1ccccf24d77fedb2d2c43c20f61" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_959b205f91fbb7992352f8095a" ON "tv_show_file" ("tv_show_id") `);
        await queryRunner.query(`CREATE TABLE "tv_show_video_file" ("id" SERIAL NOT NULL, "video_id" integer NOT NULL, "file_name" character varying(500) NOT NULL, "file_path" character varying(500) NOT NULL, "file_type" character varying(100), "file_size" bigint, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_7acc784c4baf60e0df8c200766a" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_f690574970b6d5fa8d631756b8" ON "tv_show_video_file" ("video_id") `);
        await queryRunner.query(`CREATE TABLE "tv_show_genre" ("id" SERIAL NOT NULL, "name" character varying(100) NOT NULL, "description" text, "created_at" TIMESTAMP NOT NULL DEFAULT now(), "updated_at" TIMESTAMP NOT NULL DEFAULT now(), CONSTRAINT "PK_b399f482cce49b900a7876c6b2d" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "class_education_cycles" ("class_id" uuid NOT NULL, "education_cycle_id" uuid NOT NULL, CONSTRAINT "PK_0f47653f63222e92cf2b6014d35" PRIMARY KEY ("class_id", "education_cycle_id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_76a2e7eb19c1888103aac897fe" ON "class_education_cycles" ("class_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_d03be788c0353539dbf37a2813" ON "class_education_cycles" ("education_cycle_id") `);
        await queryRunner.query(`CREATE TABLE "course_students" ("course_id" uuid NOT NULL, "user_id" uuid NOT NULL, CONSTRAINT "PK_7251addf7fd48bd276dc362ef52" PRIMARY KEY ("course_id", "user_id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_f92b04de7259dd40d646d0a457" ON "course_students" ("course_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_f15570260091bc8f5605774e51" ON "course_students" ("user_id") `);
        await queryRunner.query(`ALTER TABLE "roles" DROP COLUMN "type"`);
        await queryRunner.query(`ALTER TABLE "roles" DROP COLUMN "user_count"`);
        await queryRunner.query(`ALTER TABLE "roles" DROP COLUMN "status"`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP COLUMN "status"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP COLUMN "code"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP COLUMN "institution_id"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP COLUMN "status"`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "course_id"`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "start_date"`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "end_date"`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "schedule"`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP COLUMN "role"`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP COLUMN "status"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "version"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "date_created"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "deleted"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "last_updated"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "institution_name"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "version"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "accountable_contact"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "accountable_name"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "company_name"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "complement"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "contract_disabled"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "contract_invoice_num"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "contract_num"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "contract_term_end"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "contract_term_start"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "date_created"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "deleted"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "district"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "document"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "invoice_date"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "last_updated"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "postal_code"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "street"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "score"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "has_library_platform"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "has_principal_platform"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "has_student_platform"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "slug"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "thumbnail"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "status"`);
        await queryRunner.query(`DROP TYPE "public"."CourseStatus"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "price"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "duration_hours"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "prerequisites"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "objectives"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "tags"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "settings"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP COLUMN "topic_id"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP COLUMN "is_answer"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "course_id"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "is_pinned"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "is_locked"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "views_count"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "replies_count"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "status"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "sender_id"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "sender_type"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "action_url"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "action_text"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "icon"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "version"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "account_expired"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "account_locked"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "amount_of_media_entries"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "date_created"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "deleted"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "enabled"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "full_name"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "invitation_sent"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_admin"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "language"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "last_updated"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "password_expired"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "pause_video_on_click"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "reset_password"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "username"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "uuid"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_manager"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "type"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "certificate_path"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_certified"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_student"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_teacher"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "subject"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "subject_data_id"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_institution_manage"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_coordinator"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_guardian"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_institution_manager"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "version"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "api_id"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "date_created"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "deleted"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "imdb_id"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "intro_end"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "intro_start"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "last_updated"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "original_language"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "outro_start"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "overview"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "popularity"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "report_count"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "vote_average"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "vote_count"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "class"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "backdrop_path"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "poster_image_id"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "poster_path"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "release_date"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "trailer_key"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "backdrop_image_id"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "air_date"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "episode_string"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "episode_number"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "season_episode_merged"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "season_number"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "show_id"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "still_image_id"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "still_path"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "order_index"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "duration_minutes"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "course_id"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "status"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "version"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "api_id"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "backdrop_image_id"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "backdrop_path"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "contract_term_end"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "date_created"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "deleted"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "first_air_date"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "imdb_id"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "last_updated"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "manual_input"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "manual_support_id"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "manual_support_path"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "original_language"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "overview"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "popularity"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "poster_image_id"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "poster_path"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "producer"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "vote_average"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "vote_count"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "total_load"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "unit_id"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "books" DROP CONSTRAINT "books_isbn_unique"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "isbn"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "cover_url"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "file_url"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "pages"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "is_required"`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "question_text"`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "correct_answers"`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "order_index"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "lesson_id"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "type"`);
        await queryRunner.query(`DROP TYPE "public"."QuizType"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "difficulty"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "time_limit_minutes"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "max_attempts"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "questions"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "settings"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "availability"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "is_published"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "type"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "institution_id"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "school_id"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "class_id"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "is_published"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "published_at"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "version"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "content_type"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "date_created"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "extension"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "external_link"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "is_default"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "is_public"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "label"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "last_updated"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "local_file"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "original_filename"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "quality"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "sha256hex"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "subtitle_label"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "subtitle_src_lang"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "is_subtitled"`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "manual_support_id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "manual_support_path"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "version"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "api_id"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "date_created"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "deleted"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "imdb_id"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "intro_end"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "intro_start"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "last_updated"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "original_language"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "outro_start"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "overview"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "popularity"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "report_count"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "vote_average"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "vote_count"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "class"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "backdrop_path"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "poster_image_id"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "poster_path"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "release_date"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "trailer_key"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "backdrop_image_id"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "air_date"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "episode_string"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "season_episode_merged"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "season_number"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "show_id"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "still_image_id"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "still_path"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "duration"`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" DROP COLUMN "tv_show_authors_id"`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" DROP COLUMN "author_id"`);
        await queryRunner.query(`ALTER TABLE "roles" ADD "permissions" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD "exit_date" date`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`CREATE TYPE "public"."education_cycles_level_enum" AS ENUM('EDUCACAO_INFANTIL', 'ENSINO_FUNDAMENTAL_I', 'ENSINO_FUNDAMENTAL_II', 'ENSINO_MEDIO', 'ENSINO_TECNICO', 'ENSINO_SUPERIOR')`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD "level" "public"."education_cycles_level_enum" NOT NULL`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "year" integer NOT NULL`);
        await queryRunner.query(`CREATE TYPE "public"."classes_shift_enum" AS ENUM('MORNING', 'AFTERNOON', 'EVENING', 'FULL_TIME')`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "shift" "public"."classes_shift_enum" NOT NULL DEFAULT 'MORNING'`);
        await queryRunner.query(`CREATE TYPE "public"."school_managers_position_enum" AS ENUM('PRINCIPAL', 'VICE_PRINCIPAL', 'COORDINATOR', 'SUPERVISOR')`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD "position" "public"."school_managers_position_enum" NOT NULL`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "code" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "schools" ADD CONSTRAINT "UQ_35e8277da52a915513e3ece8cf9" UNIQUE ("code")`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "address" character varying`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "city" character varying`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "state" character varying`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "zip_code" character varying`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "phone" character varying`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "email" character varying`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "code" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD CONSTRAINT "UQ_505d00ce02e2c67d3e0df4c72fa" UNIQUE ("code")`);
        await queryRunner.query(`CREATE TYPE "public"."institution_type_enum" AS ENUM('PUBLIC', 'PRIVATE', 'MIXED')`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "type" "public"."institution_type_enum" NOT NULL DEFAULT 'PUBLIC'`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "description" text`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "email" character varying`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "phone" character varying`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "website" character varying`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "address" character varying`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "city" character varying`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "zip_code" character varying`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "logo_url" character varying`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "duration" integer`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "teacher_id" uuid`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD "thread_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD "parent_reply_id" character varying`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD "attachments" jsonb`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD "likes" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "class_id" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "tags" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "attachments" jsonb`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "pinned" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "locked" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "views" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`CREATE TYPE "public"."notifications_category_enum" AS ENUM('academic', 'system', 'social', 'administrative')`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "category" "public"."notifications_category_enum" NOT NULL DEFAULT 'system'`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "sent_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "sent_by_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "recipients" jsonb NOT NULL DEFAULT '{}'`);
        await queryRunner.query(`CREATE TYPE "public"."notifications_status_enum" AS ENUM('sent', 'scheduled', 'draft', 'failed')`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "status" "public"."notifications_status_enum" NOT NULL DEFAULT 'draft'`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "scheduled_for" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "users" ADD "googleId" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "UQ_f382af58ab36057334fb262efd5" UNIQUE ("googleId")`);
        await queryRunner.query(`ALTER TABLE "users" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "cpf" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "birth_date" date`);
        await queryRunner.query(`ALTER TABLE "users" ADD "city" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "state" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "zip_code" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "endereco" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "telefone" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "usuario" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "unidade_ensino" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "users" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "users" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "module_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "video_url" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "authors" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "education_cycle" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "cover_image" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "order" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "collection_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "synopsis" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "cover_image" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "support_material" character varying`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "total_duration" integer NOT NULL DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "subject" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "tags" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "created_by" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "books" ADD "publisher" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" ADD "synopsis" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" ADD "thumbnail" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" ADD "url" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" ADD "s3_key" character varying`);
        await queryRunner.query(`ALTER TABLE "books" ADD "size" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" ADD "education_level" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" ADD "cycle" character varying`);
        await queryRunner.query(`ALTER TABLE "books" ADD "grade" character varying`);
        await queryRunner.query(`ALTER TABLE "books" ADD "subject" character varying`);
        await queryRunner.query(`ALTER TABLE "books" ADD "tags" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "books" ADD "uploaded_by" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "text" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "correct_answer" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "time_limit" integer`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "attempts" integer NOT NULL DEFAULT '1'`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "is_graded" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`CREATE TYPE "public"."announcements_priority_enum" AS ENUM('baixa', 'média', 'alta', 'urgente')`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "priority" "public"."announcements_priority_enum" NOT NULL DEFAULT 'média'`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "scope" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "notifications" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "attachments" jsonb`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "acknowledgments" jsonb NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "files" ADD "original_name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ADD "type" character varying(10) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ADD "size_formatted" character varying(20) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ADD "bucket" character varying(100) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ADD "s3_key" character varying(500) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ADD CONSTRAINT "UQ_c88a663c0f7a040fa84e3f082f5" UNIQUE ("s3_key")`);
        await queryRunner.query(`ALTER TABLE "files" ADD "s3_url" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ADD "description" text`);
        await queryRunner.query(`CREATE TYPE "public"."files_category_enum" AS ENUM('literario', 'professor', 'aluno')`);
        await queryRunner.query(`ALTER TABLE "files" ADD "category" "public"."files_category_enum" NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ADD "metadata" jsonb NOT NULL DEFAULT '{}'`);
        await queryRunner.query(`ALTER TABLE "files" ADD "checksum" character varying(64)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "uploaded_by" uuid`);
        await queryRunner.query(`ALTER TABLE "files" ADD "is_active" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "files" ADD "tags" text array NOT NULL DEFAULT '{}'`);
        await queryRunner.query(`ALTER TABLE "files" ADD "linked_book_id" uuid`);
        await queryRunner.query(`ALTER TABLE "files" ADD "linked_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "files" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "files" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "video" ADD "tv_show_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video" ADD "description" text`);
        await queryRunner.query(`ALTER TABLE "video" ADD "video_url" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "module_number" integer DEFAULT '1'`);
        await queryRunner.query(`ALTER TABLE "video" ADD "duration_seconds" integer DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "video" ADD "thumbnail_url" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "is_active" bit NOT NULL DEFAULT '1'`);
        await queryRunner.query(`ALTER TABLE "video" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "video" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" ADD "name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" ADD "biography" text`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "roles" DROP CONSTRAINT "roles_name_unique"`);
        await queryRunner.query(`ALTER TABLE "roles" DROP COLUMN "name"`);
        await queryRunner.query(`CREATE TYPE "public"."roles_name_enum" AS ENUM('SYSTEM_ADMIN', 'INSTITUTION_MANAGER', 'ACADEMIC_COORDINATOR', 'TEACHER', 'STUDENT', 'GUARDIAN')`);
        await queryRunner.query(`ALTER TABLE "roles" ADD "name" "public"."roles_name_enum" NOT NULL`);
        await queryRunner.query(`ALTER TABLE "roles" ADD CONSTRAINT "UQ_648e3f5447f725579d7d4ffdfb7" UNIQUE ("name")`);
        await queryRunner.query(`ALTER TABLE "roles" ALTER COLUMN "active" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "roles" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "roles" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "roles" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "roles" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "id" SET DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "user_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "class_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP COLUMN "role"`);
        await queryRunner.query(`CREATE TYPE "public"."user_classes_role_enum" AS ENUM('STUDENT', 'TEACHER', 'COORDINATOR')`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD "role" "public"."user_classes_role_enum" NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "enrollment_date" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "enrollment_date" SET DEFAULT ('now'::text)::date`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ALTER COLUMN "id" SET DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ALTER COLUMN "duration_years" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "classes" DROP CONSTRAINT "classes_pkey"`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "classes" ADD CONSTRAINT "PK_e207aa15404e9b2ce35910f9f7f" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "code"`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "code" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "classes" ADD CONSTRAINT "UQ_cf7491878e0fca8599438629988" UNIQUE ("code")`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "school_id"`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "school_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "classes" ALTER COLUMN "created_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "classes" ALTER COLUMN "created_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "classes" ALTER COLUMN "updated_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "classes" ALTER COLUMN "updated_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "id" SET DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "user_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "school_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "start_date" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "start_date" SET DEFAULT ('now'::text)::date`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "schools" DROP CONSTRAINT "schools_pkey"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "schools" ADD CONSTRAINT "PK_95b932e47ac129dd8e23a0db548" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "institution_id"`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "institution_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" DROP CONSTRAINT "institution_pkey"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "institution" ADD CONSTRAINT "PK_f60ee4ff0719b7df54830b39087" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "state"`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "state" character varying`);
        await queryRunner.query(`ALTER TABLE "courses" DROP CONSTRAINT "courses_pkey"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "courses" ADD CONSTRAINT "PK_3f70a487cc718ad8eda4e6d58c9" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "courses" ALTER COLUMN "description" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "institution_id"`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "institution_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "level"`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "level" character varying`);
        await queryRunner.query(`ALTER TABLE "courses" ALTER COLUMN "created_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "courses" ALTER COLUMN "created_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "courses" ALTER COLUMN "updated_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "courses" ALTER COLUMN "updated_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP CONSTRAINT "forum_replies_pkey"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD CONSTRAINT "PK_5ae886513e9828a592aefa1b7b9" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP COLUMN "author_id"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD "author_id" uuid NOT NULL`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ALTER COLUMN "created_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ALTER COLUMN "created_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ALTER COLUMN "updated_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ALTER COLUMN "updated_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ALTER COLUMN "id" SET DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "title" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ALTER COLUMN "author_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP CONSTRAINT "notifications_pkey"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD CONSTRAINT "PK_6a72c3c0f683f6462415e653c3a" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "title" character varying NOT NULL`);
        await queryRunner.query(`ALTER TYPE "public"."NotificationType" RENAME TO "NotificationType_old"`);
        await queryRunner.query(`CREATE TYPE "public"."notifications_type_enum" AS ENUM('info', 'warning', 'success', 'error')`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "type" TYPE "public"."notifications_type_enum" USING "type"::"text"::"public"."notifications_type_enum"`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "type" SET DEFAULT 'info'`);
        await queryRunner.query(`DROP TYPE "public"."NotificationType_old"`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "type" SET DEFAULT 'info'`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "priority"`);
        await queryRunner.query(`CREATE TYPE "public"."notifications_priority_enum" AS ENUM('low', 'medium', 'high')`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "priority" "public"."notifications_priority_enum" NOT NULL DEFAULT 'medium'`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "created_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "created_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "users_pkey"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "email"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "email" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "UQ_97672ac88f789774dd47f7c8be3" UNIQUE ("email")`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "password"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "password" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "phone"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "phone" character varying`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "address"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "address" character varying`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "role_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "role_id" SET DEFAULT '35f57500-9a89-4318-bc9f-9acad28c2fb6'`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "institution_id"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "institution_id" uuid`);
        await queryRunner.query(`ALTER TABLE "videos" DROP CONSTRAINT "videos_pkey"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "videos" ADD CONSTRAINT "PK_e4c86c0cf95aff16e9fb8220f6b" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "duration"`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "duration" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "modules" ALTER COLUMN "id" SET DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "modules" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "modules" ALTER COLUMN "description" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "collections" DROP CONSTRAINT "collections_pkey"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "collections" ADD CONSTRAINT "PK_21c00b1ebbd41ba1354242c5c4e" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "name" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" DROP CONSTRAINT "books_pkey"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "books" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "books" ADD CONSTRAINT "PK_f3f2f25a099d24e12545b70b022" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "books" ADD "title" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "author"`);
        await queryRunner.query(`ALTER TABLE "books" ADD "author" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" ALTER COLUMN "created_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "books" ALTER COLUMN "created_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "books" ALTER COLUMN "updated_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "books" ALTER COLUMN "updated_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "questions" ALTER COLUMN "id" SET DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "questions" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "questions" ALTER COLUMN "quiz_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "type"`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "type" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "options"`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "options" jsonb`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "points"`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "points" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP CONSTRAINT "quizzes_pkey"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD CONSTRAINT "PK_b24f0f7662cf6b3a0e7dba0a1b4" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "title" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "quizzes" ALTER COLUMN "passing_score" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "quizzes" ALTER COLUMN "created_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "quizzes" ALTER COLUMN "created_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "quizzes" ALTER COLUMN "updated_at" TYPE TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "quizzes" ALTER COLUMN "updated_at" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "announcements" ALTER COLUMN "id" SET DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "announcements" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "title" character varying NOT NULL`);
        await queryRunner.query(`ALTER TABLE "announcements" ALTER COLUMN "author_id" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "expires_at" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "files" DROP CONSTRAINT "files_pkey"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "files" ADD "id" uuid NOT NULL DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "files" ADD CONSTRAINT "PK_6c16b9093a142e0e7613b04a3d9" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "files" ALTER COLUMN "name" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ALTER COLUMN "size" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video_modules" ALTER COLUMN "id" SET DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "video_modules" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "video_modules" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "video_modules" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "video_modules" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "video_modules" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "video_collections" ALTER COLUMN "id" SET DEFAULT uuid_generate_v4()`);
        await queryRunner.query(`ALTER TABLE "video_collections" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`COMMENT ON COLUMN "video_collections"."mysql_id" IS NULL`);
        await queryRunner.query(`ALTER TABLE "video_collections" DROP COLUMN "authors"`);
        await queryRunner.query(`ALTER TABLE "video_collections" ADD "authors" text NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "video_collections" DROP COLUMN "target_audience"`);
        await queryRunner.query(`ALTER TABLE "video_collections" ADD "target_audience" text NOT NULL DEFAULT '[]'`);
        await queryRunner.query(`ALTER TABLE "video_collections" ALTER COLUMN "total_hours" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video_collections" ALTER COLUMN "use_default_cover_for_videos" SET NOT NULL`);
        await queryRunner.query(`COMMENT ON COLUMN "video_collections"."poster_path" IS NULL`);
        await queryRunner.query(`COMMENT ON COLUMN "video_collections"."backdrop_path" IS NULL`);
        await queryRunner.query(`COMMENT ON COLUMN "video_collections"."total_load" IS NULL`);
        await queryRunner.query(`COMMENT ON COLUMN "video_collections"."manual_support_path" IS NULL`);
        await queryRunner.query(`ALTER TABLE "video_collections" ALTER COLUMN "deleted" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video_collections" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "video_collections" ADD "created_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "video_collections" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "video_collections" ADD "updated_at" TIMESTAMP NOT NULL DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP CONSTRAINT "tv_show_pkey"`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD CONSTRAINT "PK_f1c243400f03d802cd41d81cdf5" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "name" character varying(500) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "producer"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "producer" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "poster_path"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "poster_path" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "backdrop_path"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "backdrop_path" character varying(500)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "total_load"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "total_load" integer DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "popularity"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "popularity" numeric(4,2) DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "vote_average"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "vote_average" numeric(3,1) DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "tv_show" ALTER COLUMN "vote_count" SET DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "api_id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "api_id" character varying(100)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "imdb_id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "imdb_id" character varying(100)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "original_language"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "original_language" character varying(10)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "first_air_date"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "first_air_date" date`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "contract_term_end"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "contract_term_end" date`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "poster_image_id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "poster_image_id" integer`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "backdrop_image_id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "backdrop_image_id" integer`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "version"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "version" character varying(50) DEFAULT '1.0'`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "deleted"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "deleted" bit DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "manual_input"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "manual_input" bit DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "tv_show" ALTER COLUMN "date_created" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "tv_show" ALTER COLUMN "last_updated" SET DEFAULT now()`);
        await queryRunner.query(`ALTER TABLE "video" DROP CONSTRAINT "video_pkey"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "video" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video" ADD CONSTRAINT "PK_1a2f3856250765d72e7e1636c8e" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "video" ADD "title" character varying(500) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video" ALTER COLUMN "episode_number" SET DEFAULT '1'`);
        await queryRunner.query(`CREATE INDEX "IDX_503281c0a4931e14e12664f8f7" ON "tv_show" ("deleted") `);
        await queryRunner.query(`CREATE INDEX "IDX_4ce45f73892444af657f71b539" ON "tv_show" ("api_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_d70c37f100b1c95eb31269ce6d" ON "tv_show" ("name") `);
        await queryRunner.query(`CREATE INDEX "IDX_d5673952c0626afe90c18299eb" ON "video" ("is_active") `);
        await queryRunner.query(`CREATE INDEX "IDX_ce34d7b802b820963810b3954b" ON "video" ("tv_show_id") `);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD CONSTRAINT "FK_9b0dc5cede3707bd536b9019bcb" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD CONSTRAINT "FK_0ccb22cdb2a986aa28c3fd11ec1" FOREIGN KEY ("class_id") REFERENCES "classes"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "classes" ADD CONSTRAINT "FK_398f3990f5da4a1efda173f576f" FOREIGN KEY ("school_id") REFERENCES "schools"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD CONSTRAINT "FK_710b80d76ae9b86357fb02c3912" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD CONSTRAINT "FK_a0014b4ed74a95e499bfa636ba9" FOREIGN KEY ("school_id") REFERENCES "schools"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "schools" ADD CONSTRAINT "FK_13c57f74c907f2b4b616a4a7a58" FOREIGN KEY ("institution_id") REFERENCES "institution"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "courses" ADD CONSTRAINT "FK_3a5da6162f1519c25665fa730be" FOREIGN KEY ("institution_id") REFERENCES "institution"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "courses" ADD CONSTRAINT "FK_fad76a730ee7f68d0a59652fb12" FOREIGN KEY ("teacher_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "chat_messages" ADD CONSTRAINT "FK_9e5fc47ecb06d4d7b84633b1718" FOREIGN KEY ("sender_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD CONSTRAINT "FK_6cd45ccf838f58873a3ab024f37" FOREIGN KEY ("thread_id") REFERENCES "forum_threads"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD CONSTRAINT "FK_79baa14b39dc9221041c70fd5a9" FOREIGN KEY ("author_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD CONSTRAINT "FK_ff0fa59c209579b356ec775a026" FOREIGN KEY ("author_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD CONSTRAINT "FK_bf5e38fd276b8c16fcc4ade445b" FOREIGN KEY ("sent_by_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "FK_a2cecd1a3531c0b041e29ba46e1" FOREIGN KEY ("role_id") REFERENCES "roles"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "FK_822972ceea1fda0973b8acc7bbe" FOREIGN KEY ("institution_id") REFERENCES "institution"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "videos" ADD CONSTRAINT "FK_183db24239e746c23b3fb7ce99c" FOREIGN KEY ("module_id") REFERENCES "modules"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "modules" ADD CONSTRAINT "FK_6b69200f8edf49490ddfb461d73" FOREIGN KEY ("collection_id") REFERENCES "collections"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "questions" ADD CONSTRAINT "FK_46b3c125e02f7242662e4ccb307" FOREIGN KEY ("quiz_id") REFERENCES "quizzes"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD CONSTRAINT "FK_0a13cf0aa1f1a2666699ff473f0" FOREIGN KEY ("author_id") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "files" ADD CONSTRAINT "FK_63c92c51cd7fd95c2d79d709b61" FOREIGN KEY ("uploaded_by") REFERENCES "users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "files" ADD CONSTRAINT "FK_a929cb37a5e4bea7512e5bf6dd6" FOREIGN KEY ("linked_book_id") REFERENCES "books"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "video_modules" ADD CONSTRAINT "FK_b7fc802e338d0fe76fe439bcf6e" FOREIGN KEY ("collection_id") REFERENCES "video_collections"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "class_education_cycles" ADD CONSTRAINT "FK_76a2e7eb19c1888103aac897fe8" FOREIGN KEY ("class_id") REFERENCES "classes"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "class_education_cycles" ADD CONSTRAINT "FK_d03be788c0353539dbf37a28134" FOREIGN KEY ("education_cycle_id") REFERENCES "education_cycles"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "course_students" ADD CONSTRAINT "FK_f92b04de7259dd40d646d0a4570" FOREIGN KEY ("course_id") REFERENCES "courses"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "course_students" ADD CONSTRAINT "FK_f15570260091bc8f5605774e512" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "course_students" DROP CONSTRAINT "FK_f15570260091bc8f5605774e512"`);
        await queryRunner.query(`ALTER TABLE "course_students" DROP CONSTRAINT "FK_f92b04de7259dd40d646d0a4570"`);
        await queryRunner.query(`ALTER TABLE "class_education_cycles" DROP CONSTRAINT "FK_d03be788c0353539dbf37a28134"`);
        await queryRunner.query(`ALTER TABLE "class_education_cycles" DROP CONSTRAINT "FK_76a2e7eb19c1888103aac897fe8"`);
        await queryRunner.query(`ALTER TABLE "video_modules" DROP CONSTRAINT "FK_b7fc802e338d0fe76fe439bcf6e"`);
        await queryRunner.query(`ALTER TABLE "files" DROP CONSTRAINT "FK_a929cb37a5e4bea7512e5bf6dd6"`);
        await queryRunner.query(`ALTER TABLE "files" DROP CONSTRAINT "FK_63c92c51cd7fd95c2d79d709b61"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP CONSTRAINT "FK_0a13cf0aa1f1a2666699ff473f0"`);
        await queryRunner.query(`ALTER TABLE "questions" DROP CONSTRAINT "FK_46b3c125e02f7242662e4ccb307"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP CONSTRAINT "FK_6b69200f8edf49490ddfb461d73"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP CONSTRAINT "FK_183db24239e746c23b3fb7ce99c"`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "FK_822972ceea1fda0973b8acc7bbe"`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "FK_a2cecd1a3531c0b041e29ba46e1"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP CONSTRAINT "FK_bf5e38fd276b8c16fcc4ade445b"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP CONSTRAINT "FK_ff0fa59c209579b356ec775a026"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP CONSTRAINT "FK_79baa14b39dc9221041c70fd5a9"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP CONSTRAINT "FK_6cd45ccf838f58873a3ab024f37"`);
        await queryRunner.query(`ALTER TABLE "chat_messages" DROP CONSTRAINT "FK_9e5fc47ecb06d4d7b84633b1718"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP CONSTRAINT "FK_fad76a730ee7f68d0a59652fb12"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP CONSTRAINT "FK_3a5da6162f1519c25665fa730be"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP CONSTRAINT "FK_13c57f74c907f2b4b616a4a7a58"`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP CONSTRAINT "FK_a0014b4ed74a95e499bfa636ba9"`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP CONSTRAINT "FK_710b80d76ae9b86357fb02c3912"`);
        await queryRunner.query(`ALTER TABLE "classes" DROP CONSTRAINT "FK_398f3990f5da4a1efda173f576f"`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP CONSTRAINT "FK_0ccb22cdb2a986aa28c3fd11ec1"`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP CONSTRAINT "FK_9b0dc5cede3707bd536b9019bcb"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_ce34d7b802b820963810b3954b"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_d5673952c0626afe90c18299eb"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_d70c37f100b1c95eb31269ce6d"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_4ce45f73892444af657f71b539"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_503281c0a4931e14e12664f8f7"`);
        await queryRunner.query(`ALTER TABLE "video" ALTER COLUMN "episode_number" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "video" ADD "title" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" DROP CONSTRAINT "PK_1a2f3856250765d72e7e1636c8e"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "video" ADD "id" bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video" ADD CONSTRAINT "video_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "tv_show" ALTER COLUMN "last_updated" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "tv_show" ALTER COLUMN "date_created" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "manual_input"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "manual_input" boolean`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "deleted"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "deleted" boolean`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "version"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "version" bigint`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "backdrop_image_id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "backdrop_image_id" bigint`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "poster_image_id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "poster_image_id" bigint`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "contract_term_end"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "contract_term_end" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "first_air_date"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "first_air_date" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "original_language"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "original_language" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "imdb_id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "imdb_id" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "api_id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "api_id" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "tv_show" ALTER COLUMN "vote_count" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "vote_average"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "vote_average" double precision`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "popularity"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "popularity" double precision`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "total_load"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "total_load" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "backdrop_path"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "backdrop_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "poster_path"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "poster_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "producer"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "producer" text`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP CONSTRAINT "PK_f1c243400f03d802cd41d81cdf5"`);
        await queryRunner.query(`ALTER TABLE "tv_show" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "id" bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD CONSTRAINT "tv_show_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "video_collections" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "video_collections" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "video_collections" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "video_collections" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "video_collections" ALTER COLUMN "deleted" DROP NOT NULL`);
        await queryRunner.query(`COMMENT ON COLUMN "video_collections"."manual_support_path" IS 'Campo legado do MySQL'`);
        await queryRunner.query(`COMMENT ON COLUMN "video_collections"."total_load" IS 'Campo legado do MySQL'`);
        await queryRunner.query(`COMMENT ON COLUMN "video_collections"."backdrop_path" IS 'Campo legado do MySQL'`);
        await queryRunner.query(`COMMENT ON COLUMN "video_collections"."poster_path" IS 'Campo legado do MySQL'`);
        await queryRunner.query(`ALTER TABLE "video_collections" ALTER COLUMN "use_default_cover_for_videos" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video_collections" ALTER COLUMN "total_hours" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video_collections" DROP COLUMN "target_audience"`);
        await queryRunner.query(`ALTER TABLE "video_collections" ADD "target_audience" text array DEFAULT '{}'`);
        await queryRunner.query(`ALTER TABLE "video_collections" DROP COLUMN "authors"`);
        await queryRunner.query(`ALTER TABLE "video_collections" ADD "authors" text array DEFAULT '{}'`);
        await queryRunner.query(`COMMENT ON COLUMN "video_collections"."mysql_id" IS 'ID original do MySQL para rastreamento'`);
        await queryRunner.query(`ALTER TABLE "video_collections" ALTER COLUMN "id" SET DEFAULT public.gen_random_uuid()`);
        await queryRunner.query(`ALTER TABLE "video_collections" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "video_modules" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "video_modules" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "video_modules" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "video_modules" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "video_modules" ALTER COLUMN "id" SET DEFAULT public.gen_random_uuid()`);
        await queryRunner.query(`ALTER TABLE "video_modules" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "files" ALTER COLUMN "size" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ALTER COLUMN "name" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" DROP CONSTRAINT "PK_6c16b9093a142e0e7613b04a3d9"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "files" ADD "id" bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ADD CONSTRAINT "files_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "expires_at"`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "expires_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "announcements" ALTER COLUMN "author_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "title" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "announcements" ALTER COLUMN "id" SET DEFAULT public.gen_random_uuid()`);
        await queryRunner.query(`ALTER TABLE "announcements" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "quizzes" ALTER COLUMN "updated_at" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "quizzes" ALTER COLUMN "updated_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "quizzes" ALTER COLUMN "created_at" SET DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "quizzes" ALTER COLUMN "created_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "quizzes" ALTER COLUMN "passing_score" SET DEFAULT '60'`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "title" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP CONSTRAINT "PK_b24f0f7662cf6b3a0e7dba0a1b4"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD CONSTRAINT "quizzes_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "points"`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "points" numeric(5,2) DEFAULT '1'`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "options"`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "options" json`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "type"`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "type" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "questions" ALTER COLUMN "quiz_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "questions" ALTER COLUMN "id" SET DEFAULT public.gen_random_uuid()`);
        await queryRunner.query(`ALTER TABLE "questions" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "books" ALTER COLUMN "updated_at" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "books" ALTER COLUMN "updated_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "books" ALTER COLUMN "created_at" SET DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "books" ALTER COLUMN "created_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "author"`);
        await queryRunner.query(`ALTER TABLE "books" ADD "author" text`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "books" ADD "title" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" DROP CONSTRAINT "PK_f3f2f25a099d24e12545b70b022"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "books" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" ADD CONSTRAINT "books_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" DROP CONSTRAINT "PK_21c00b1ebbd41ba1354242c5c4e"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "id" bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD CONSTRAINT "collections_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "modules" ALTER COLUMN "description" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "modules" ALTER COLUMN "id" SET DEFAULT public.gen_random_uuid()`);
        await queryRunner.query(`ALTER TABLE "modules" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "duration"`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "duration" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "name" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" DROP CONSTRAINT "PK_e4c86c0cf95aff16e9fb8220f6b"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "id" bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL`);
        await queryRunner.query(`ALTER TABLE "videos" ADD CONSTRAINT "videos_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "institution_id"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "institution_id" bigint`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "role_id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "users" ALTER COLUMN "role_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "address"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "address" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "phone"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "phone" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "password"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "password" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "UQ_97672ac88f789774dd47f7c8be3"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "email"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "email" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "PK_a3ffb1c0c8416b9fc6f907b7433"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "users" ADD "id" bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "users_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "created_at" SET DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "created_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "priority"`);
        await queryRunner.query(`DROP TYPE "public"."notifications_priority_enum"`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "priority" text NOT NULL DEFAULT 'MEDIUM'`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "type" DROP DEFAULT`);
        await queryRunner.query(`CREATE TYPE "public"."NotificationType_old" AS ENUM('INFO', 'SUCCESS', 'WARNING', 'ERROR', 'ANNOUNCEMENT', 'REMINDER', 'ASSIGNMENT', 'GRADE', 'MESSAGE')`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "type" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "notifications" ALTER COLUMN "type" TYPE "public"."NotificationType_old" USING "type"::"text"::"public"."NotificationType_old"`);
        await queryRunner.query(`DROP TYPE "public"."notifications_type_enum"`);
        await queryRunner.query(`ALTER TYPE "public"."NotificationType_old" RENAME TO "NotificationType"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "title" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP CONSTRAINT "PK_6a72c3c0f683f6462415e653c3a"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD CONSTRAINT "notifications_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ALTER COLUMN "author_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "title"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "title" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ALTER COLUMN "id" SET DEFAULT public.gen_random_uuid()`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ALTER COLUMN "updated_at" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ALTER COLUMN "updated_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ALTER COLUMN "created_at" SET DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ALTER COLUMN "created_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP COLUMN "author_id"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD "author_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP CONSTRAINT "PK_5ae886513e9828a592aefa1b7b9"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD CONSTRAINT "forum_replies_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "courses" ALTER COLUMN "updated_at" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "courses" ALTER COLUMN "updated_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "courses" ALTER COLUMN "created_at" SET DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "courses" ALTER COLUMN "created_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "level"`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "level" text`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "institution_id"`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "institution_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "courses" ALTER COLUMN "description" SET NOT NULL`);
        await queryRunner.query(`ALTER TABLE "courses" DROP CONSTRAINT "PK_3f70a487cc718ad8eda4e6d58c9"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "courses" ADD CONSTRAINT "courses_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "state"`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "state" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" DROP CONSTRAINT "PK_f60ee4ff0719b7df54830b39087"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "id" bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD CONSTRAINT "institution_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "institution_id"`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "institution_id" bigint NOT NULL`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "schools" DROP CONSTRAINT "PK_95b932e47ac129dd8e23a0db548"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "id" bigint GENERATED BY DEFAULT AS IDENTITY NOT NULL`);
        await queryRunner.query(`ALTER TABLE "schools" ADD CONSTRAINT "schools_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "start_date" SET DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "start_date" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "school_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "user_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "id" SET DEFAULT public.gen_random_uuid()`);
        await queryRunner.query(`ALTER TABLE "school_managers" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "classes" ALTER COLUMN "updated_at" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "classes" ALTER COLUMN "updated_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "classes" ALTER COLUMN "created_at" SET DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "classes" ALTER COLUMN "created_at" TYPE TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "school_id"`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "school_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "classes" DROP CONSTRAINT "UQ_cf7491878e0fca8599438629988"`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "code"`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "code" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "name" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "classes" DROP CONSTRAINT "PK_e207aa15404e9b2ce35910f9f7f"`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "id"`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "id" SERIAL NOT NULL`);
        await queryRunner.query(`ALTER TABLE "classes" ADD CONSTRAINT "classes_pkey" PRIMARY KEY ("id")`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ALTER COLUMN "duration_years" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD "name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ALTER COLUMN "id" SET DEFAULT public.gen_random_uuid()`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "enrollment_date" SET DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "enrollment_date" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP COLUMN "role"`);
        await queryRunner.query(`DROP TYPE "public"."user_classes_role_enum"`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD "role" text DEFAULT 'student'`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "class_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "user_id" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "id" SET DEFAULT public.gen_random_uuid()`);
        await queryRunner.query(`ALTER TABLE "user_classes" ALTER COLUMN "id" DROP DEFAULT`);
        await queryRunner.query(`ALTER TABLE "roles" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "roles" ADD "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "roles" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "roles" ADD "created_at" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "roles" ALTER COLUMN "active" DROP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "roles" DROP CONSTRAINT "UQ_648e3f5447f725579d7d4ffdfb7"`);
        await queryRunner.query(`ALTER TABLE "roles" DROP COLUMN "name"`);
        await queryRunner.query(`DROP TYPE "public"."roles_name_enum"`);
        await queryRunner.query(`ALTER TABLE "roles" ADD "name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "roles" ADD CONSTRAINT "roles_name_unique" UNIQUE ("name")`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" DROP COLUMN "biography"`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "thumbnail_url"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "duration_seconds"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "module_number"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "video_url"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "video" DROP COLUMN "tv_show_id"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "linked_at"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "linked_book_id"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "tags"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "uploaded_by"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "checksum"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "metadata"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "category"`);
        await queryRunner.query(`DROP TYPE "public"."files_category_enum"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "s3_url"`);
        await queryRunner.query(`ALTER TABLE "files" DROP CONSTRAINT "UQ_c88a663c0f7a040fa84e3f082f5"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "s3_key"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "bucket"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "size_formatted"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "type"`);
        await queryRunner.query(`ALTER TABLE "files" DROP COLUMN "original_name"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "acknowledgments"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "attachments"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "notifications"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "scope"`);
        await queryRunner.query(`ALTER TABLE "announcements" DROP COLUMN "priority"`);
        await queryRunner.query(`DROP TYPE "public"."announcements_priority_enum"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "is_graded"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "attempts"`);
        await queryRunner.query(`ALTER TABLE "quizzes" DROP COLUMN "time_limit"`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "correct_answer"`);
        await queryRunner.query(`ALTER TABLE "questions" DROP COLUMN "text"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "uploaded_by"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "tags"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "subject"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "grade"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "cycle"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "education_level"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "size"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "s3_key"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "url"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "thumbnail"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "synopsis"`);
        await queryRunner.query(`ALTER TABLE "books" DROP COLUMN "publisher"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "created_by"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "tags"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "subject"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "total_duration"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "support_material"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "cover_image"`);
        await queryRunner.query(`ALTER TABLE "collections" DROP COLUMN "synopsis"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "collection_id"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "order"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "cover_image"`);
        await queryRunner.query(`ALTER TABLE "modules" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "education_cycle"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "authors"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "video_url"`);
        await queryRunner.query(`ALTER TABLE "videos" DROP COLUMN "module_id"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "unidade_ensino"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "usuario"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "telefone"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "endereco"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "zip_code"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "state"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "city"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "birth_date"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "cpf"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "users" DROP CONSTRAINT "UQ_f382af58ab36057334fb262efd5"`);
        await queryRunner.query(`ALTER TABLE "users" DROP COLUMN "googleId"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "scheduled_for"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "status"`);
        await queryRunner.query(`DROP TYPE "public"."notifications_status_enum"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "recipients"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "sent_by_id"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "sent_at"`);
        await queryRunner.query(`ALTER TABLE "notifications" DROP COLUMN "category"`);
        await queryRunner.query(`DROP TYPE "public"."notifications_category_enum"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "views"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "locked"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "pinned"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "attachments"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "tags"`);
        await queryRunner.query(`ALTER TABLE "forum_threads" DROP COLUMN "class_id"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP COLUMN "likes"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP COLUMN "attachments"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP COLUMN "parent_reply_id"`);
        await queryRunner.query(`ALTER TABLE "forum_replies" DROP COLUMN "thread_id"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "teacher_id"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "duration"`);
        await queryRunner.query(`ALTER TABLE "courses" DROP COLUMN "name"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "logo_url"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "zip_code"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "city"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "address"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "website"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "phone"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "email"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "description"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "type"`);
        await queryRunner.query(`DROP TYPE "public"."institution_type_enum"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP CONSTRAINT "UQ_505d00ce02e2c67d3e0df4c72fa"`);
        await queryRunner.query(`ALTER TABLE "institution" DROP COLUMN "code"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "updated_at"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "created_at"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "email"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "phone"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "zip_code"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "state"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "city"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "address"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP CONSTRAINT "UQ_35e8277da52a915513e3ece8cf9"`);
        await queryRunner.query(`ALTER TABLE "schools" DROP COLUMN "code"`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "school_managers" DROP COLUMN "position"`);
        await queryRunner.query(`DROP TYPE "public"."school_managers_position_enum"`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "shift"`);
        await queryRunner.query(`DROP TYPE "public"."classes_shift_enum"`);
        await queryRunner.query(`ALTER TABLE "classes" DROP COLUMN "year"`);
        await queryRunner.query(`ALTER TABLE "education_cycles" DROP COLUMN "level"`);
        await queryRunner.query(`DROP TYPE "public"."education_cycles_level_enum"`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP COLUMN "is_active"`);
        await queryRunner.query(`ALTER TABLE "user_classes" DROP COLUMN "exit_date"`);
        await queryRunner.query(`ALTER TABLE "roles" DROP COLUMN "permissions"`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" ADD "author_id" bigint`);
        await queryRunner.query(`ALTER TABLE "tv_show_author" ADD "tv_show_authors_id" bigint NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video" ADD "duration" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "still_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "still_image_id" bigint`);
        await queryRunner.query(`ALTER TABLE "video" ADD "show_id" bigint`);
        await queryRunner.query(`ALTER TABLE "video" ADD "season_number" integer`);
        await queryRunner.query(`ALTER TABLE "video" ADD "season_episode_merged" integer`);
        await queryRunner.query(`ALTER TABLE "video" ADD "name" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "episode_string" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "air_date" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "backdrop_image_id" bigint`);
        await queryRunner.query(`ALTER TABLE "video" ADD "trailer_key" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "release_date" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "poster_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "poster_image_id" bigint`);
        await queryRunner.query(`ALTER TABLE "video" ADD "backdrop_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "class" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "video" ADD "vote_count" integer`);
        await queryRunner.query(`ALTER TABLE "video" ADD "vote_average" double precision`);
        await queryRunner.query(`ALTER TABLE "video" ADD "report_count" integer`);
        await queryRunner.query(`ALTER TABLE "video" ADD "popularity" double precision`);
        await queryRunner.query(`ALTER TABLE "video" ADD "overview" text`);
        await queryRunner.query(`ALTER TABLE "video" ADD "outro_start" integer`);
        await queryRunner.query(`ALTER TABLE "video" ADD "original_language" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "last_updated" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "video" ADD "intro_start" integer`);
        await queryRunner.query(`ALTER TABLE "video" ADD "intro_end" integer`);
        await queryRunner.query(`ALTER TABLE "video" ADD "imdb_id" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "deleted" boolean`);
        await queryRunner.query(`ALTER TABLE "video" ADD "date_created" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "video" ADD "api_id" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "video" ADD "version" bigint`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "manual_support_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "tv_show" ADD "manual_support_id" bigint`);
        await queryRunner.query(`ALTER TABLE "files" ADD "is_subtitled" boolean`);
        await queryRunner.query(`ALTER TABLE "files" ADD "subtitle_src_lang" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "subtitle_label" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "sha256hex" character varying(64)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "quality" character varying(4)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "original_filename" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "local_file" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "last_updated" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ADD "label" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "is_public" boolean`);
        await queryRunner.query(`ALTER TABLE "files" ADD "is_default" boolean`);
        await queryRunner.query(`ALTER TABLE "files" ADD "external_link" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "extension" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "date_created" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "files" ADD "content_type" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "files" ADD "version" bigint`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "published_at" TIMESTAMP WITH TIME ZONE`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "is_published" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "class_id" uuid`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "school_id" uuid`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "institution_id" uuid`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD "type" text DEFAULT 'general'`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "created_by" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "is_published" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "availability" jsonb`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "settings" jsonb`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "questions" jsonb NOT NULL`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "max_attempts" integer NOT NULL DEFAULT '1'`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "time_limit_minutes" integer`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "difficulty" text NOT NULL DEFAULT 'MEDIUM'`);
        await queryRunner.query(`CREATE TYPE "public"."QuizType" AS ENUM('PRACTICE', 'GRADED', 'SURVEY', 'DIAGNOSTIC', 'COMPETITIVE')`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "type" "public"."QuizType" NOT NULL`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD "lesson_id" integer`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "order_index" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "correct_answers" json`);
        await queryRunner.query(`ALTER TABLE "questions" ADD "question_text" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "books" ADD "is_required" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "books" ADD "pages" integer`);
        await queryRunner.query(`ALTER TABLE "books" ADD "file_url" text`);
        await queryRunner.query(`ALTER TABLE "books" ADD "cover_url" text`);
        await queryRunner.query(`ALTER TABLE "books" ADD "isbn" text`);
        await queryRunner.query(`ALTER TABLE "books" ADD CONSTRAINT "books_isbn_unique" UNIQUE ("isbn")`);
        await queryRunner.query(`ALTER TABLE "books" ADD "description" text`);
        await queryRunner.query(`ALTER TABLE "books" ADD "unit_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "total_load" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "vote_count" integer`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "vote_average" double precision`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "producer" text`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "poster_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "poster_image_id" bigint`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "popularity" double precision`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "overview" text`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "original_language" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "manual_support_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "manual_support_id" bigint`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "manual_input" boolean`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "last_updated" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "imdb_id" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "first_air_date" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "deleted" boolean`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "date_created" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "contract_term_end" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "backdrop_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "backdrop_image_id" bigint`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "api_id" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "collections" ADD "version" bigint`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "status" text DEFAULT 'active'`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "course_id" uuid`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "duration_minutes" integer`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "order_index" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "modules" ADD "title" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "still_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "still_image_id" bigint`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "show_id" bigint`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "season_number" integer`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "season_episode_merged" integer`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "episode_number" integer`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "episode_string" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "air_date" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "backdrop_image_id" bigint`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "trailer_key" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "title" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "release_date" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "poster_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "poster_image_id" bigint`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "backdrop_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "class" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "vote_count" integer`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "vote_average" double precision`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "report_count" integer`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "popularity" double precision`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "overview" text`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "outro_start" integer`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "original_language" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "last_updated" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "intro_start" integer`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "intro_end" integer`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "imdb_id" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "deleted" boolean`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "date_created" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "api_id" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "videos" ADD "version" bigint`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_institution_manager" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_guardian" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_coordinator" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_institution_manage" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "users" ADD "subject_data_id" bigint`);
        await queryRunner.query(`ALTER TABLE "users" ADD "subject" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_teacher" boolean NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_student" boolean NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_certified" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "users" ADD "certificate_path" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "users" ADD "type" integer`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_manager" boolean NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "uuid" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "users" ADD "username" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "users" ADD "reset_password" boolean NOT NULL DEFAULT true`);
        await queryRunner.query(`ALTER TABLE "users" ADD "pause_video_on_click" boolean`);
        await queryRunner.query(`ALTER TABLE "users" ADD "password_expired" boolean`);
        await queryRunner.query(`ALTER TABLE "users" ADD "last_updated" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "users" ADD "language" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "users" ADD "is_admin" boolean NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "invitation_sent" boolean`);
        await queryRunner.query(`ALTER TABLE "users" ADD "full_name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "users" ADD "enabled" boolean`);
        await queryRunner.query(`ALTER TABLE "users" ADD "deleted" boolean`);
        await queryRunner.query(`ALTER TABLE "users" ADD "date_created" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "users" ADD "amount_of_media_entries" integer`);
        await queryRunner.query(`ALTER TABLE "users" ADD "account_locked" boolean`);
        await queryRunner.query(`ALTER TABLE "users" ADD "account_expired" boolean`);
        await queryRunner.query(`ALTER TABLE "users" ADD "version" bigint`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "expires_at" TIMESTAMP(3)`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "metadata" jsonb`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "icon" text`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "action_text" text`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "action_url" text`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "sender_type" text NOT NULL DEFAULT 'USER'`);
        await queryRunner.query(`ALTER TABLE "notifications" ADD "sender_id" text`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "status" text DEFAULT 'active'`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "replies_count" integer DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "views_count" integer DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "is_locked" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "is_pinned" boolean DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD "course_id" uuid`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD "is_answer" boolean NOT NULL DEFAULT false`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD "topic_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "created_by" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "settings" jsonb`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "tags" text array`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "objectives" text array`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "prerequisites" text array`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "duration_hours" integer`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "price" numeric(10,2)`);
        await queryRunner.query(`CREATE TYPE "public"."CourseStatus" AS ENUM('DRAFT', 'PUBLISHED', 'ARCHIVED')`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "status" "public"."CourseStatus" NOT NULL DEFAULT 'DRAFT'`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "thumbnail" text`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "slug" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "courses" ADD "title" text NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "has_student_platform" boolean NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "has_principal_platform" boolean NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "has_library_platform" boolean NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "score" bigint`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "street" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "postal_code" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "last_updated" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "invoice_date" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "document" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "district" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "deleted" boolean NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "date_created" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "contract_term_start" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "contract_term_end" TIMESTAMP NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "contract_num" bigint`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "contract_invoice_num" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "contract_disabled" boolean NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "complement" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "company_name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "accountable_name" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "accountable_contact" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "institution" ADD "version" bigint`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "institution_name" character varying(255)`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "last_updated" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "deleted" boolean`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "date_created" TIMESTAMP`);
        await queryRunner.query(`ALTER TABLE "schools" ADD "version" bigint`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD "status" text DEFAULT 'active'`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD "role" text DEFAULT 'coordinator'`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "schedule" jsonb`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "end_date" TIMESTAMP(3) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "start_date" TIMESTAMP(3) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "classes" ADD "course_id" integer NOT NULL`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD "status" text DEFAULT 'active'`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD "institution_id" uuid`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD "code" character varying(255) NOT NULL`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD "status" text DEFAULT 'active'`);
        await queryRunner.query(`ALTER TABLE "roles" ADD "status" text DEFAULT 'active'`);
        await queryRunner.query(`ALTER TABLE "roles" ADD "user_count" integer DEFAULT '0'`);
        await queryRunner.query(`ALTER TABLE "roles" ADD "type" text NOT NULL DEFAULT 'system'`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f15570260091bc8f5605774e51"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f92b04de7259dd40d646d0a457"`);
        await queryRunner.query(`DROP TABLE "course_students"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_d03be788c0353539dbf37a2813"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_76a2e7eb19c1888103aac897fe"`);
        await queryRunner.query(`DROP TABLE "class_education_cycles"`);
        await queryRunner.query(`DROP TABLE "tv_show_genre"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_f690574970b6d5fa8d631756b8"`);
        await queryRunner.query(`DROP TABLE "tv_show_video_file"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_959b205f91fbb7992352f8095a"`);
        await queryRunner.query(`DROP TABLE "tv_show_file"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_fb699de76d7e23033c567e5bc5"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_39f03c5647cf67aa1d0a874ccc"`);
        await queryRunner.query(`DROP TABLE "tv_show_answer"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_3f7d36816185117670a8e7630c"`);
        await queryRunner.query(`DROP INDEX "public"."IDX_8c42b55413c1af6ff8d1516289"`);
        await queryRunner.query(`DROP TABLE "tv_show_question"`);
        await queryRunner.query(`DROP TABLE "chat_messages"`);
        await queryRunner.query(`ALTER TABLE "video_modules" ADD CONSTRAINT "video_modules_collection_id_module_number_order_in_module_uniqu" UNIQUE ("collection_id", "module_number", "order_in_module")`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD CONSTRAINT "school_managers_user_id_school_id_unique" UNIQUE ("user_id", "school_id")`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD CONSTRAINT "education_cycles_code_institution_id_unique" UNIQUE ("code", "institution_id")`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD CONSTRAINT "user_classes_user_id_class_id_unique" UNIQUE ("user_id", "class_id")`);
        await queryRunner.query(`ALTER TABLE "announcements" ADD CONSTRAINT "announcements_type_check" CHECK ((type = ANY (ARRAY['general'::text, 'urgent'::text, 'academic'::text, 'administrative'::text])))`);
        await queryRunner.query(`ALTER TABLE "questions" ADD CONSTRAINT "questions_type_check" CHECK ((type = ANY (ARRAY['multiple_choice'::text, 'true_false'::text, 'short_answer'::text, 'essay'::text])))`);
        await queryRunner.query(`ALTER TABLE "modules" ADD CONSTRAINT "modules_status_check" CHECK ((status = ANY (ARRAY['active'::text, 'inactive'::text])))`);
        await queryRunner.query(`ALTER TABLE "forum_threads" ADD CONSTRAINT "forum_threads_status_check" CHECK ((status = ANY (ARRAY['active'::text, 'archived'::text])))`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD CONSTRAINT "school_managers_status_check" CHECK ((status = ANY (ARRAY['active'::text, 'inactive'::text])))`);
        await queryRunner.query(`ALTER TABLE "school_managers" ADD CONSTRAINT "school_managers_role_check" CHECK ((role = ANY (ARRAY['director'::text, 'coordinator'::text, 'supervisor'::text])))`);
        await queryRunner.query(`ALTER TABLE "education_cycles" ADD CONSTRAINT "education_cycles_status_check" CHECK ((status = ANY (ARRAY['active'::text, 'inactive'::text])))`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD CONSTRAINT "user_classes_status_check" CHECK ((status = ANY (ARRAY['active'::text, 'inactive'::text, 'completed'::text])))`);
        await queryRunner.query(`ALTER TABLE "user_classes" ADD CONSTRAINT "user_classes_role_check" CHECK ((role = ANY (ARRAY['student'::text, 'teacher'::text, 'assistant'::text])))`);
        await queryRunner.query(`ALTER TABLE "roles" ADD CONSTRAINT "roles_status_check" CHECK ((status = ANY (ARRAY['active'::text, 'inactive'::text])))`);
        await queryRunner.query(`ALTER TABLE "roles" ADD CONSTRAINT "roles_type_check" CHECK ((type = ANY (ARRAY['system'::text, 'custom'::text])))`);
        await queryRunner.query(`CREATE INDEX "video_collections_producer_index" ON "video_collections" ("producer") `);
        await queryRunner.query(`CREATE INDEX "video_collections_name_index" ON "video_collections" ("name") `);
        await queryRunner.query(`CREATE INDEX "video_collections_mysql_id_index" ON "video_collections" ("mysql_id") `);
        await queryRunner.query(`CREATE INDEX "video_collections_deleted_popularity_index" ON "video_collections" ("deleted", "popularity") `);
        await queryRunner.query(`CREATE INDEX "video_modules_collection_id_module_number_order_in_module_index" ON "video_modules" ("collection_id", "module_number", "order_in_module") `);
        await queryRunner.query(`CREATE INDEX "video_modules_collection_id_module_number_index" ON "video_modules" ("collection_id", "module_number") `);
        await queryRunner.query(`CREATE INDEX "quizzes_type_idx" ON "quizzes" ("type") `);
        await queryRunner.query(`CREATE INDEX "quizzes_lesson_id_idx" ON "quizzes" ("lesson_id") `);
        await queryRunner.query(`CREATE INDEX "books_unit_id_idx" ON "books" ("unit_id") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "idx_users_username_unique" ON "users" ("username") `);
        await queryRunner.query(`CREATE INDEX "idx_users_email" ON "users" ("email") `);
        await queryRunner.query(`CREATE INDEX "forum_replies_author_id_idx" ON "forum_replies" ("author_id") `);
        await queryRunner.query(`CREATE INDEX "forum_replies_topic_id_idx" ON "forum_replies" ("topic_id") `);
        await queryRunner.query(`CREATE INDEX "courses_institution_id_idx" ON "courses" ("institution_id") `);
        await queryRunner.query(`CREATE INDEX "courses_status_idx" ON "courses" ("status") `);
        await queryRunner.query(`CREATE INDEX "courses_slug_idx" ON "courses" ("slug") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "courses_slug_key" ON "courses" ("slug") `);
        await queryRunner.query(`CREATE INDEX "classes_course_id_idx" ON "classes" ("course_id") `);
        await queryRunner.query(`CREATE INDEX "classes_school_id_idx" ON "classes" ("school_id") `);
        await queryRunner.query(`CREATE INDEX "classes_code_idx" ON "classes" ("code") `);
        await queryRunner.query(`CREATE UNIQUE INDEX "classes_code_key" ON "classes" ("code") `);
        await queryRunner.query(`ALTER TABLE "video_modules" ADD CONSTRAINT "video_modules_collection_id_foreign" FOREIGN KEY ("collection_id") REFERENCES "video_collections"("id") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "quizzes" ADD CONSTRAINT "quizzes_lesson_id_fkey" FOREIGN KEY ("lesson_id") REFERENCES "lessons"("id") ON DELETE SET NULL ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "books" ADD CONSTRAINT "books_unit_id_fkey" FOREIGN KEY ("unit_id") REFERENCES "units"("id") ON DELETE RESTRICT ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "users" ADD CONSTRAINT "users_role_id_foreign" FOREIGN KEY ("role_id") REFERENCES "roles"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "forum_replies" ADD CONSTRAINT "forum_replies_topic_id_fkey" FOREIGN KEY ("topic_id") REFERENCES "forum_topics"("id") ON DELETE RESTRICT ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "classes" ADD CONSTRAINT "classes_course_id_fkey" FOREIGN KEY ("course_id") REFERENCES "courses"("id") ON DELETE RESTRICT ON UPDATE CASCADE`);
    }

}
